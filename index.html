<!DOCTYPE html>
<html lang="bo">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡Ω¶‡Ω¥‡Ωò‡ºã‡ΩÖ‡Ω¥‡ºã‡Ωñ‡Ω†‡Ω≤‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡ΩÑ‡ºã‡Ωö‡Ωì‡ºç - Tibetan Grammar Game</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tibetan:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Tibetan', sans-serif;
            background-color: #f3f4f6;
        }
        .tibetan-text {
            font-family: 'Noto Sans Tibetan', sans-serif;
            line-height: 1.6;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-bounce-short {
            animation: bounceShort 0.5s;
        }
        @keyframes bounceShort {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
    </style>
</head>
<body class="bg-amber-50 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-2xl w-full bg-white rounded-2xl shadow-xl overflow-hidden min-h-[600px] flex flex-col relative">
        
        <!-- Header -->
        <div class="bg-indigo-700 p-6 text-center">
            <h1 class="text-2xl md:text-3xl font-bold text-white mb-2 tibetan-text">‡Ω¶‡Ω¥‡Ωò‡ºã‡ΩÖ‡Ω¥‡ºã‡Ωñ‡Ω†‡Ω≤‡ºã‡Ωï‡æ≤‡Ωë‡ºã‡ΩÄ‡æ±‡Ω≤‡ºã‡Ω¢‡æ©‡Ω∫‡Ωë‡ºã‡Ωò‡Ωº‡ºç</h1>
            <p class="text-indigo-200 text-sm md:text-base tibetan-text">‡Ω¶‡Ω¥‡Ωò‡ºã‡ΩÖ‡Ω¥‡ºã‡Ωñ‡Ω†‡Ω≤‡ºã‡ΩÇ‡Ωû‡Ω¥‡ΩÑ‡ºã‡Ω£‡Ω¶‡ºã‡Ωñ‡Ω¶‡æü‡Ωì‡ºã‡Ωî‡Ω†‡Ω≤‡ºã‡Ω¶‡æ≥‡Ωº‡Ωñ‡ºã‡Ωñ‡Ωë‡Ω∫‡ºã‡Ωñ‡Ω†‡Ω≤‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡ΩÑ‡ºã‡Ωö‡Ωì‡ºç</p>
        </div>

        <!-- Main Content Area -->
        <div id="game-container" class="flex-1 p-6 flex flex-col justify-center items-center">
            
            <!-- START SCREEN -->
            <div id="start-screen" class="w-full space-y-6 text-center fade-in">
                <div class="p-4 bg-indigo-50 rounded-lg border border-indigo-100">
                    <p class="text-lg text-gray-700 tibetan-text">‡Ω¶‡æ¶‡æ±‡Ωº‡ΩÑ‡ºã‡Ωö‡Ωì‡ºã‡ΩÇ‡Ωë‡Ωò‡Ω¶‡ºã‡Ω¢‡Ωº‡ΩÇ‡Ω¶‡ºç (Choose a topic)</p>
                </div>
                
                <div class="grid gap-4">
                    <button onclick="startGame('dependent')" class="w-full p-6 text-left bg-white border-2 border-indigo-200 hover:border-indigo-500 hover:bg-indigo-50 rounded-xl transition-all group shadow-sm hover:shadow-md">
                        <h3 class="text-xl font-bold text-indigo-900 group-hover:text-indigo-700 tibetan-text">‡Ωë‡ΩÑ‡ºã‡Ωî‡Ωº‡ºç ‡ΩÇ‡Ωû‡Ωì‡ºã‡Ωë‡Ωñ‡ΩÑ‡ºã‡ΩÖ‡Ωì‡ºã‡ΩÇ‡æ±‡Ω≤‡ºã‡Ωï‡æ≤‡Ωë‡ºç</h3>
                        <p class="text-gray-500 mt-2 tibetan-text text-sm">‡Ω¶‡æ≥‡Ω¢‡ºã‡Ωñ‡Ω¶‡æ°‡Ω¥‡ºç ‡Ω£‡ºã‡Ωë‡Ωº‡Ωì‡ºç ‡Ω†‡Ωñ‡æ≤‡Ω∫‡Ω£‡ºã‡Ω¶‡æí‡æ≤‡ºç ‡Ω¢‡æí‡æ±‡Ωì‡ºã‡Ω¶‡æ°‡Ω¥‡Ωë‡ºç ‡Ω£‡æ∑‡ΩÇ‡ºã‡Ωñ‡ΩÖ‡Ω¶‡ºç ‡Ω¶‡Ωº‡ΩÇ‡Ω¶‡ºç (‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã‡Ω£‡ºã‡Ω£‡æü‡Ωº‡Ω¶‡ºã‡Ωî‡ºç)</p>
                        <div class="mt-2 text-xs text-indigo-400 font-bold tibetan-text">‡Ω¢‡æ©‡Ω∫‡ºã‡Ωê‡Ω∫‡ΩÑ‡Ω¶‡ºã‡Ω¢‡Ω∫‡ºã‡Ω¢‡Ω∫‡Ω¢‡ºã‡Ωë‡æ≤‡Ω≤‡ºã‡Ωñ‡ºã‡Ωò‡Ω≤‡ºã‡Ω†‡Ωë‡æ≤‡ºã‡Ωñ‡ºã‡Ω°‡Ωº‡ΩÑ‡ºã‡ΩÇ‡Ω≤‡ºã‡Ω¢‡Ω∫‡Ωë‡ºç (Infinite Variations)</div>
                    </button>

                    <button onclick="startGame('independent')" class="w-full p-6 text-left bg-white border-2 border-emerald-200 hover:border-emerald-500 hover:bg-emerald-50 rounded-xl transition-all group shadow-sm hover:shadow-md">
                        <h3 class="text-xl font-bold text-emerald-900 group-hover:text-emerald-700 tibetan-text">‡ΩÇ‡Ωâ‡Ω≤‡Ω¶‡ºã‡Ωî‡ºç ‡Ω¢‡ΩÑ‡ºã‡Ωë‡Ωñ‡ΩÑ‡ºã‡ΩÖ‡Ωì‡ºã‡ΩÇ‡æ±‡Ω≤‡ºã‡Ωï‡æ≤‡Ωë‡ºç</h3>
                        <p class="text-gray-500 mt-2 tibetan-text text-sm">‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºç ‡Ωë‡ΩÑ‡ºã‡Ω¶‡æí‡æ≤‡ºç ‡Ωë‡Ω∫‡ºã‡Ω¶‡æí‡æ≤‡ºç ‡Ωñ‡Ωº‡Ωë‡ºã‡Ω¶‡æí‡æ≤‡ºç ‡Ωë‡ΩÇ‡ΩÇ‡ºã‡Ω¶‡æí‡æ≤‡ºç (‡Ω¢‡ΩÑ‡ºã‡Ωë‡Ωñ‡ΩÑ‡ºã‡ΩÇ‡Ω≤‡Ω¶‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡Ω¢‡ºã‡ΩÜ‡Ωº‡ΩÇ‡ºã‡Ωî‡ºç)</p>
                    </button>
                </div>
            </div>

            <!-- GAME SCREEN -->
            <div id="quiz-screen" class="hidden w-full flex-col h-full">
                <!-- Progress Bar -->
                <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                    <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>

                <div class="flex justify-between text-sm text-gray-500 mb-2 font-bold">
                    <span id="question-count">‡Ωë‡æ≤‡Ω≤‡ºã‡Ωñ‡ºç 1/15</span>
                    <span id="score-display">‡Ω¶‡æê‡Ω¥‡ΩÇ‡Ω¶‡ºã‡Ωê‡Ωº‡Ωñ‡ºç 0</span>
                </div>

                <!-- Question Card -->
                <div class="flex-1 flex flex-col justify-center">
                    <div class="mb-8 text-center">
                        <span id="category-badge" class="inline-block px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-600 mb-4 tibetan-text"></span>
                        <h2 id="question-text" class="text-3xl md:text-5xl font-bold text-gray-800 tibetan-text leading-relaxed tracking-wide">
                            <!-- Question goes here -->
                        </h2>
                        <p id="sub-question-text" class="text-lg text-gray-500 mt-2 tibetan-text"></p>
                    </div>

                    <!-- Options -->
                    <div id="options-container" class="grid grid-cols-2 gap-4">
                        <!-- Buttons injected by JS -->
                    </div>

                    <!-- Feedback Area -->
                    <div id="feedback-area" class="hidden mt-6 p-4 rounded-lg text-center tibetan-text animate-bounce-short">
                        <p id="feedback-text" class="font-bold text-lg"></p>
                        <button onclick="nextQuestion()" class="mt-3 px-6 py-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition">‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ωò‡ºç (Next)</button>
                    </div>
                </div>
            </div>

            <!-- RESULT SCREEN -->
            <div id="result-screen" class="hidden text-center space-y-6 fade-in">
                <div class="text-6xl mb-4">üéâ</div>
                <h2 class="text-3xl font-bold text-gray-800 tibetan-text">‡Ωò‡Ωá‡Ω¥‡ΩÇ‡ºã‡Ω¢‡æ´‡Ωº‡ΩÇ‡Ω¶‡ºã‡Ω¶‡Ωº‡ΩÑ‡ºã‡ºç</h2>
                <div class="p-6 bg-white rounded-xl shadow-inner border border-gray-200">
                    <p class="text-gray-600 tibetan-text">‡ΩÅ‡æ±‡Ω∫‡Ωë‡ºã‡ΩÄ‡æ±‡Ω≤‡ºã‡Ω¶‡æê‡Ω¥‡ΩÇ‡Ω¶‡ºã‡ΩÇ‡æ≤‡ΩÑ‡Ω¶‡ºç</p>
                    <p id="final-score" class="text-5xl font-bold text-indigo-600 mt-2">0 / 0</p>
                </div>
                <p id="final-message" class="text-lg text-gray-700 tibetan-text"></p>
                
                <button onclick="location.reload()" class="px-8 py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition shadow-lg transform hover:-translate-y-1 tibetan-text">
                    ‡Ωñ‡Ω¶‡æê‡æ±‡Ω¢‡ºã‡Ωë‡Ω¥‡ºã‡Ω¢‡æ©‡Ω∫‡ºç (Play Again)
                </button>
            </div>

        </div>
    </div>

    <script>
        // --- DATA BANK & GENERATOR LOGIC ---

        const vocab = {
            ga: ["‡Ωñ‡Ωë‡ΩÇ", "‡Ωï‡æ±‡ΩÇ", "‡Ω¢‡æü‡ΩÇ", "‡ΩÇ‡ΩÖ‡Ω≤‡ΩÇ", "‡Ω¶‡æü‡ΩÇ", "‡Ωë‡Ω¥‡ΩÇ", "‡Ωï‡æ≤‡ΩÇ", "‡Ωñ‡æ≤‡ΩÇ", "‡Ωû‡ΩÇ", "‡Ωê‡Ωº‡ΩÇ", "‡Ωö‡Ω≤‡ΩÇ"],
            nga: ["‡ΩÇ‡ΩÑ", "‡Ωñ‡æ±‡Ω¥‡ΩÑ", "‡Ωò‡Ωê‡Ωº‡ΩÑ", "‡Ω¢‡ΩÑ", "‡ΩÇ‡Ω¶‡Ω¥‡ΩÑ", "‡Ωò‡Ω≤‡ΩÑ", "‡ΩÅ‡Ωº‡ΩÑ", "‡Ωë‡Ωñ‡ΩÑ", "‡ΩÇ‡Ωû‡Ω¥‡ΩÑ", "‡Ω£‡ΩÑ", "‡ΩÇ‡æ≤‡ΩÑ"],
            da: ["‡Ω°‡Ωº‡Ωë", "‡Ωñ‡Ω¢‡æó‡Ωº‡Ωë", "‡Ωñ‡Ω¶‡Ωë", "‡Ω¢‡æí‡Ωë", "‡Ωì‡Ωë", "‡Ω¶‡æê‡Ωë", "‡Ωñ‡Ω§‡Ωë", "‡Ω¶‡æ°‡Ωº‡Ωë", "‡ΩÅ‡æ±‡Ω∫‡Ωë", "‡Ωñ‡ΩÖ‡Ωë", "‡Ω¢‡æô‡Ω∫‡Ωë"],
            na: ["‡Ω°‡Ω≤‡Ωì", "‡Ωò‡Ω≤‡Ωì", "‡Ωñ‡Ω¶‡æü‡Ωì", "‡Ω†‡Ωõ‡Ω≤‡Ωì", "‡Ωë‡æ≤‡Ωì", "‡Ω¶‡æ®‡Ωì", "‡Ωò‡ΩÇ‡æ≤‡Ωº‡Ωì", "‡Ω¶‡æ§‡æ±‡Ωì", "‡Ωñ‡Ωû‡Ω≤‡Ωì", "‡Ωï‡Ωì", "‡Ωâ‡Ωì", "‡Ωò‡ΩÇ‡Ωº‡Ωì"],
            ba: ["‡ΩÅ‡Ωñ", "‡Ωê‡Ωº‡Ωñ", "‡ΩÇ‡æ≤‡Ω¥‡Ωñ", "‡Ω°‡Ωñ", "‡Ω¢‡Ωñ", "‡Ωì‡Ω¥‡Ωñ", "‡Ω¶‡æí‡æ≤‡Ω¥‡Ωñ", "‡ΩÅ‡Ω∫‡Ωñ"],
            ma: ["‡Ω£‡Ωò", "‡ΩÇ‡Ω¶‡Ω¥‡Ωò", "‡Ω†‡Ωõ‡Ωº‡Ωò", "‡Ωñ‡Ω¶‡Ωò", "‡Ωì‡Ωò", "‡ΩÇ‡Ωè‡Ωò", "‡ΩÅ‡Ωò", "‡Ω¢‡Ω≤‡Ωò", "‡Ω¶‡æí‡Ωº‡Ωò"],
            ra: ["‡Ω§‡Ω¢", "‡Ω†‡ΩÇ‡æ±‡Ω¥‡Ω¢", "‡Ωë‡ΩÄ‡Ω¢", "‡Ωë‡Ωò‡Ω¢", "‡Ω¶‡Ω∫‡Ω¢", "‡Ω†‡Ωñ‡æ±‡Ωº‡Ω¢", "‡Ω¶‡æ¶‡æ±‡Ωº‡Ω¢", "‡Ω†‡Ωñ‡Ω¢", "‡Ωò‡æ±‡Ω¥‡Ω¢"],
            la: ["‡Ω°‡Ω¥‡Ω£", "‡Ωñ‡Ω£", "‡Ω¢‡Ωº‡Ω£", "‡Ωò‡Ωá‡Ω£", "‡Ω†‡Ωñ‡æ≤‡Ω∫‡Ω£", "‡ΩÇ‡Ω¶‡Ω£", "‡Ω†‡Ωï‡Ω∫‡Ω£", "‡Ωë‡ΩÑ‡Ω¥‡Ω£", "‡Ωû‡Ω£"],
            sa: ["‡Ω§‡Ω∫‡Ω¶", "‡ΩÇ‡Ωº‡Ω¶", "‡Ω£‡Ω¶", "‡Ωñ‡Ωû‡Ω¥‡ΩÇ‡Ω¶", "‡Ωñ‡æ≤‡Ω≤‡Ω¶", "‡Ωò‡Ωõ‡Ω∫‡Ω¶", "‡ΩÅ‡Ωò‡Ω¶", "‡Ω¢‡Ω≤‡ΩÇ‡Ω¶", "‡Ω£‡Ω¥‡ΩÇ‡Ω¶", "‡Ω¶‡æ§‡Ωº‡Ωñ‡Ω¶", "‡Ωë‡Ωñ‡Ω¥‡Ω¶", "‡Ωñ‡Ω¶‡æü‡Ωº‡Ωë", "‡Ω†‡Ωñ‡Ωñ‡Ω¶"],
            vowel: ["‡Ω†‡ΩÇ‡æ≤‡Ωº", "‡Ωò‡Ω≤", "‡ΩÑ", "‡Ωñ‡Ω¥", "‡Ω£‡æ∑", "‡Ω¢‡æ©‡Ω∫", "‡Ωü", "‡Ωë‡ΩÇ‡Ω†", "‡Ωñ‡ΩÄ‡Ω†", "‡Ωò‡Ωë‡Ω†", "‡Ω¶‡æ§‡æ≤‡Ωº", "‡ΩÇ‡Ωº", "‡ΩÜ‡Ω∫", "‡Ωñ‡Ωë‡Ω∫", "‡ΩÅ‡æ±‡Ω≤", "‡Ωá"]
        };

        const suffixes = ['ga', 'nga', 'da', 'na', 'ba', 'ma', 'ra', 'la', 'sa', 'vowel'];

        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function generateQuestion(category) {
            // Select a random suffix type based on category weights or uniform random
            const suffixType = getRandomItem(suffixes);
            const word = getRandomItem(vocab[suffixType]);
            
            let q = { type: category, q: "", sub: "", options: [], correct: 0, hint: "" };
            let correctOpt = "";
            let wrongOpt = "";
            
            // LOGIC FOR EACH CATEGORY
            switch(category) {
                case "‡Ω¶‡æ≥‡Ω¢‡ºã‡Ωñ‡Ω¶‡æ°‡Ω¥‡ºç": // Slardhu
                    q.q = word + "____";
                    const slardhuMap = {
                        ga: "‡ΩÇ‡Ωº", nga: "‡ΩÑ‡Ωº", da: "‡Ωë‡Ωº", na: "‡Ωì‡Ωº", ba: "‡Ωñ‡Ωº", ma: "‡Ωò‡Ωº", 
                        ra: "‡Ω¢‡Ωº", la: "‡Ω£‡Ωº", sa: "‡Ω¶‡Ωº", vowel: "‡Ω†‡Ωº"
                    };
                    correctOpt = slardhuMap[suffixType];
                    
                    // Generate distractor
                    const allSlardhu = Object.values(slardhuMap);
                    do { wrongOpt = getRandomItem(allSlardhu); } while(wrongOpt === correctOpt);
                    
                    q.hint = suffixType === 'vowel' 
                        ? "‡Ωò‡Ωê‡Ω†‡ºã‡Ωò‡Ω∫‡Ωë‡ºã‡Ω°‡Ω≤‡Ωì‡ºã‡Ωî‡Ω¶‡ºã '‡Ω†‡Ωº' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç" 
                        : `‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã '${suffixTypeToTib(suffixType)}' ‡Ω°‡Ω≤‡Ωì‡ºã‡Ωî‡Ω¶‡ºã '${correctOpt}' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç`;
                    break;

                case "‡Ω£‡ºã‡Ωë‡Ωº‡Ωì‡ºç": // La Don
                    q.q = word + "____";
                    // su, ra, ru, du, na, la, tu
                    if (suffixType === 'sa') correctOpt = "‡Ω¶‡Ω¥";
                    else if (['ga', 'ba'].includes(suffixType)) correctOpt = "‡Ωè‡Ω¥";
                    else if (['nga', 'da', 'na', 'ma', 'ra', 'la'].includes(suffixType)) correctOpt = "‡Ωë‡Ω¥";
                    else if (suffixType === 'vowel') correctOpt = "‡Ω¢‡Ω¥"; // Simplified rule for game

                    // Special case logic for distractor
                    const ladonOptions = ["‡Ω¶‡Ω¥", "‡Ωè‡Ω¥", "‡Ωë‡Ω¥", "‡Ω¢‡Ω¥"];
                    do { wrongOpt = getRandomItem(ladonOptions); } while(wrongOpt === correctOpt);
                    
                    q.hint = `‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã '${suffixTypeToTib(suffixType)}' ‡Ω£‡ºã '${correctOpt}' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç`;
                    break;

                case "‡Ω†‡Ωñ‡æ≤‡Ω∫‡Ω£‡ºã‡Ω¶‡æí‡æ≤‡ºç": // I-ldan (Genitive)
                    q.q = word + "____";
                    // gi, kyi, gyi, 'i, yi
                    if (['ga', 'nga'].includes(suffixType)) correctOpt = "‡ΩÇ‡Ω≤";
                    else if (['da', 'ba', 'sa'].includes(suffixType)) correctOpt = "‡ΩÄ‡æ±‡Ω≤";
                    else if (['na', 'ma', 'ra', 'la'].includes(suffixType)) correctOpt = "‡ΩÇ‡æ±‡Ω≤";
                    else if (suffixType === 'vowel') correctOpt = "‡Ω°‡Ω≤"; // or 'i

                    const ildanOptions = ["‡ΩÇ‡Ω≤", "‡ΩÄ‡æ±‡Ω≤", "‡ΩÇ‡æ±‡Ω≤", "‡Ω°‡Ω≤"];
                    do { wrongOpt = getRandomItem(ildanOptions); } while(wrongOpt === correctOpt);
                    
                    q.hint = `‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã '${suffixTypeToTib(suffixType)}' ‡Ω£‡ºã '${correctOpt}' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç`;
                    break;

                case "‡Ω£‡æ∑‡ΩÇ‡ºã‡Ωñ‡ΩÖ‡Ω¶‡ºç": // Lhag-bcas
                    q.q = word + "____";
                    // te, de, ste
                    if (['na', 'ra', 'la', 'sa'].includes(suffixType)) correctOpt = "‡Ωè‡Ω∫";
                    else if (suffixType === 'da') correctOpt = "‡Ωë‡Ω∫";
                    else correctOpt = "‡Ω¶‡æü‡Ω∫"; // ga, nga, ba, ma, vowel

                    const lhagOptions = ["‡Ωè‡Ω∫", "‡Ωë‡Ω∫", "‡Ω¶‡æü‡Ω∫"];
                    do { wrongOpt = getRandomItem(lhagOptions); } while(wrongOpt === correctOpt);
                    
                    q.hint = `‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã '${suffixTypeToTib(suffixType)}' ‡Ω£‡ºã '${correctOpt}' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç`;
                    break;

                case "‡Ωñ‡Ωë‡ΩÇ‡ºã‡Ω¶‡æí‡æ≤‡ºç": // Bdag-sgra
                    q.q = word + "____";
                    // pa, po, ba, bo
                    // ga, da, na, ba, ma, sa -> pa
                    // nga, 'a, ra, la, vowel -> ba
                    if (['ga', 'da', 'na', 'ba', 'ma', 'sa'].includes(suffixType)) correctOpt = "‡Ωî";
                    else correctOpt = "‡Ωñ";

                    wrongOpt = correctOpt === "‡Ωî" ? "‡Ωñ" : "‡Ωî";
                    q.hint = `‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã '${suffixTypeToTib(suffixType)}' ‡Ω£‡ºã '${correctOpt}' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç`;
                    break;
                    
                 case "‡ΩÇ‡ΩÑ‡ºã‡Ω¶‡æí‡æ≤‡ºç": // Gang-sgra (Indefinite)
                    q.q = word + "____";
                    // cig, zhig, shig
                    // ga, da, ba -> cig
                    // sa -> shig
                    // nga, na, ma, ra, la, vowel -> zhig
                    if (['ga', 'da', 'ba'].includes(suffixType)) correctOpt = "‡ΩÖ‡Ω≤‡ΩÇ";
                    else if (suffixType === 'sa') correctOpt = "‡Ω§‡Ω≤‡ΩÇ";
                    else correctOpt = "‡Ωû‡Ω≤‡ΩÇ";

                    const gangOptions = ["‡ΩÖ‡Ω≤‡ΩÇ", "‡Ωû‡Ω≤‡ΩÇ", "‡Ω§‡Ω≤‡ΩÇ"];
                    do { wrongOpt = getRandomItem(gangOptions); } while(wrongOpt === correctOpt);
                    
                    q.hint = `‡Ω¢‡æó‡Ω∫‡Ω¶‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ‡ºã '${suffixTypeToTib(suffixType)}' ‡Ω£‡ºã '${correctOpt}' ‡Ω†‡Ωê‡Ωº‡Ωñ‡ºç`;
                    break;
            }

            // Randomize options position
            if (Math.random() > 0.5) {
                q.options = [correctOpt, wrongOpt];
                q.correct = 0;
            } else {
                q.options = [wrongOpt, correctOpt];
                q.correct = 1;
            }

            return q;
        }

        function suffixTypeToTib(t) {
            const map = {ga: '‡ΩÇ', nga: '‡ΩÑ', da: '‡Ωë', na: '‡Ωì', ba: '‡Ωñ', ma: '‡Ωò', ra: '‡Ω¢', la: '‡Ω£', sa: '‡Ω¶', vowel: '‡Ωò‡Ωê‡Ω†‡ºã‡Ωò‡Ω∫‡Ωë'};
            return map[t];
        }

        // Static Indepedent Questions (since they rely more on meaning/context)
        // Expanded list to provide more variety
        const independentQuestionBank = [
            { type: "‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡ΩÅ‡Ωº‡ΩÑ‡ºã____ ‡Ωë‡ΩÇ‡Ω∫‡ºã‡Ω¢‡æí‡Ωì‡ºã‡Ω¢‡Ω∫‡Ωë‡ºç", sub: "‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ωë‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ£‡Ωì‡ºã‡Ωî‡ºç", options: ["‡Ωì‡Ω≤", "‡ΩÇ‡Ω≤"], correct: 0, hint: "‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºã‡Ωì‡Ω≤‡ºã‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ωë‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ£‡Ωì‡ºã‡Ωî‡Ω¢‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ωë‡Ωî‡Ω∫‡ºã‡Ωë‡Ω∫‡Ωñ‡ºã‡Ω†‡Ωë‡Ω≤‡ºã____ ‡Ω°‡ΩÇ‡ºã‡Ωî‡Ωº‡ºã‡Ω†‡Ωë‡Ω¥‡ΩÇ", sub: "‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ωë‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ£‡Ωì‡ºã‡Ωî‡ºç", options: ["‡Ωì‡Ω≤", "‡ΩÄ‡æ±‡Ω≤"], correct: 0, hint: "‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºã‡Ωì‡Ω≤‡ºã‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ωë‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ£‡Ωì‡ºã‡Ωî‡Ω¢‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ωñ‡ΩÄ‡æ≤‡ºã‡Ω§‡Ω≤‡Ω¶‡ºã____ ‡Ω¶‡æ≥‡Ωº‡Ωñ‡ºã‡Ωò‡ºã‡Ω¢‡Ω∫‡Ωë‡ºç", sub: "‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ωë‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ£‡Ωì‡ºã‡Ωî‡ºç", options: ["‡Ωì‡Ω≤", "‡ΩÇ‡Ω≤‡Ω¶"], correct: 0, hint: "‡Ωì‡Ω≤‡ºã‡Ω¶‡æí‡æ≤‡ºã‡Ωì‡Ω≤‡ºã‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ωë‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ£‡Ωì‡ºã‡Ωî‡Ω¢‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωë‡ΩÑ‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ω§‡ºã____ ‡Ωò‡Ω¢‡ºç", sub: "‡Ω¶‡æ°‡Ω¥‡Ωë‡ºã‡Ω†‡Ωñ‡æ±‡Ω∫‡Ωë‡ºã‡Ω¢‡æí‡æ±‡Ω¥‡ºã‡Ωò‡Ωö‡Ωì‡ºã‡Ωö‡Ω∫‡ºã‡Ω¶‡æê‡Ωñ‡Ω¶‡ºã‡ΩÇ‡Ωë‡Ωò‡Ω¶‡ºã‡ΩÑ‡ΩÇ", options: ["‡Ωë‡ΩÑ", "‡Ωì‡Ω¶"], correct: 0, hint: "‡Ω¶‡æ°‡Ω¥‡Ωë‡ºã‡Ωî‡ºã‡Ω£‡ºã ‡Ωë‡ΩÑ‡ºã ‡Ω¶‡æí‡æ≤‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωë‡ΩÑ‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡ΩÅ‡ºã‡Ω£‡ΩÇ‡ºã‡Ωü‡ºã‡Ωñ‡ºã____ ‡Ωû‡Ω≤‡Ωò‡ºã‡Ωî‡Ωº‡ºã‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ºç", sub: "‡Ω¢‡æí‡æ±‡Ω¥‡ºã‡Ωò‡Ωö‡Ωì‡ºç", options: ["‡Ωë‡ΩÑ", "‡Ω£‡Ω¶"], correct: 0, hint: "‡Ω¢‡æí‡æ±‡Ω¥‡ºã‡Ωò‡Ωö‡Ωì‡ºã‡Ω£‡ºã ‡Ωë‡ΩÑ‡ºã ‡Ω¶‡æí‡æ≤‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωë‡ΩÑ‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ωâ‡Ω≤‡ºã‡Ωò‡ºã____ ‡Ωü‡æ≥‡ºã‡Ωñ‡ºç", sub: "‡Ω¶‡æ°‡Ω¥‡Ωë‡ºã‡Ωî‡ºç", options: ["‡Ωë‡ΩÑ", "‡ΩÇ‡Ω≤"], correct: 0, hint: "‡Ω¶‡æ°‡Ω¥‡Ωë‡ºã‡Ωî‡ºã‡Ω£‡ºã ‡Ωë‡ΩÑ‡ºã ‡Ω¶‡æí‡æ≤‡ºã‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωë‡Ω∫‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ωò‡Ω≤‡ºã____ ‡Ω¶‡Ω¥‡ºã‡Ω¢‡Ω∫‡Ωë‡ºç", sub: "‡Ωë‡ΩÑ‡Ωº‡Ω¶‡ºã‡Ωî‡Ωº‡ºã‡Ω¶‡æü‡Ωº‡Ωì‡ºã‡Ωî‡ºç", options: ["‡Ωë‡Ω∫", "‡Ωè‡Ω∫"], correct: 0, hint: "‡Ωê‡ºã‡Ω¶‡æô‡Ωë‡ºã‡Ωë‡Ωñ‡ΩÑ‡ºã‡Ωë‡Ω¥‡ºã‡Ωñ‡æ±‡Ω¶‡ºã‡Ωî‡Ω†‡Ω≤‡ºã ‡Ωë‡Ω∫‡ºã ‡Ω¶‡æí‡æ≤‡ºç" },
            { type: "‡Ωë‡Ω∫‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ω£‡Ωº‡ºã____ ‡Ω£‡ºã‡ΩÜ‡Ω¢‡ºã‡Ωî‡ºã‡ΩÜ‡Ω∫‡Ωì‡ºã‡Ωî‡Ωº‡ºã‡Ωñ‡Ωñ‡Ω¶‡ºç", sub: "‡Ωë‡Ω¥‡Ω¶‡ºã‡Ω¶‡æü‡Ωº‡Ωì‡ºã‡Ωî‡ºç", options: ["‡Ωë‡Ω∫", "‡Ωì‡Ω≤"], correct: 0, hint: "‡Ωë‡Ω¥‡Ω¶‡ºã‡Ω†‡Ωë‡Ω¶‡ºã‡Ωî‡ºã‡Ω¶‡æü‡Ωº‡Ωì‡ºã‡Ωî‡Ω†‡Ω≤‡ºã ‡Ωë‡Ω∫‡ºã ‡Ω¶‡æí‡æ≤‡ºç" },
            { type: "‡Ωñ‡Ωº‡Ωë‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "____ ‡ΩÇ‡æ≤‡Ωº‡ΩÇ‡Ω¶‡ºã‡Ωî‡Ωº‡ºã‡Ω£‡ΩÇ‡Ω¶‡ºç", sub: "‡Ω†‡Ωñ‡Ωº‡Ωë‡ºã‡Ωî‡Ω†‡Ω≤‡ºã‡Ωö‡Ω≤‡ΩÇ‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡Ω¢‡ºã‡Ωñ‡ºç", options: ["‡ΩÄ‡æ±‡Ω∫", "‡ΩÄ‡æ≠"], correct: 0, hint: "‡Ω†‡Ωñ‡Ωº‡Ωë‡ºã‡Ωî‡ºã‡Ω£‡ºã ‡ΩÄ‡æ±‡Ω∫‡ºã ‡Ω¶‡æ¶‡æ±‡Ωº‡Ω¢‡ºç" },
            { type: "‡Ω†‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ΩÅ‡Ω¥‡ΩÑ‡Ω¶‡ºç", q: "‡ΩÑ‡ºã‡Ωì‡ΩÑ‡ºã____ ‡Ω°‡Ωº‡ΩÑ‡ºã‡Ωñ‡ºã‡Ω°‡Ω≤‡Ωì‡ºç", sub: "(‡Ωì‡Ω¶ / ‡Ω£‡Ω¶)", options: ["‡Ωì‡Ω¶", "‡Ω£‡Ω¶"], correct: 0, hint: "‡Ω†‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ΩÅ‡Ω¥‡ΩÑ‡Ω¶‡ºã‡Ω£‡ºã ‡Ωì‡Ω¶‡ºã ‡Ω§‡Ω¥‡ΩÇ‡Ω¶‡ºã‡ΩÜ‡Ω∫‡ºç" },
            { type: "‡Ω†‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ΩÅ‡Ω¥‡ΩÑ‡Ω¶‡ºç", q: "‡Ω£‡æ∑‡ºã‡Ω¶‡ºã____ ‡Ω°‡Ωº‡ΩÑ‡ºã‡ºç", sub: "‡Ω†‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ΩÅ‡Ω¥‡ΩÑ‡Ω¶‡ºç", options: ["‡Ωì‡Ω¶", "‡Ω£‡Ω¶"], correct: 0, hint: "‡Ω†‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ΩÅ‡Ω¥‡ΩÑ‡Ω¶‡ºã‡Ω£‡ºã ‡Ωì‡Ω¶‡ºã ‡Ω§‡Ω¥‡ΩÇ‡Ω¶‡ºã‡ΩÜ‡Ω∫‡ºç" },
            { type: "‡Ω†‡Ωñ‡æ±‡Ω¥‡ΩÑ‡ºã‡ΩÅ‡Ω¥‡ΩÑ‡Ω¶‡ºç", q: "‡ΩÇ‡Ω¶‡Ω∫‡Ω¢‡ºã____ ‡Ωë‡ΩÑ‡Ω¥‡Ω£‡ºã‡Ωë‡ΩÄ‡Ωº‡Ωì‡ºç", sub: "(‡Ωì‡Ω¶ / ‡Ω£‡Ω¶)", options: ["‡Ωì‡Ω¶", "‡Ω£‡Ω¶"], correct: 1, hint: "‡Ωë‡ΩÇ‡Ω¢‡ºã‡Ωñ‡ºã‡Ω£‡ºã ‡Ω£‡Ω¶‡ºã ‡Ω§‡Ω¥‡ΩÇ‡Ω¶‡ºã‡ΩÜ‡Ω∫‡ºç" },
            { type: "‡Ωë‡ΩÇ‡ΩÇ‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ω£‡Ω¶‡ºã‡ΩÄ‡ºã____ ‡Ωñ‡æ±‡Ω∫‡Ωë‡ºç", sub: "‡Ωò‡ºã‡Ω†‡Ωº‡ΩÑ‡Ω¶‡ºã‡Ωî‡ºç", options: ["‡Ωò", "‡Ωò‡Ω≤"], correct: 1, hint: "‡Ωò‡ºã‡Ω†‡Ωº‡ΩÑ‡Ω¶‡ºã‡Ωî‡ºã‡Ω£‡ºã ‡Ωò‡Ω≤‡ºã ‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωë‡ΩÇ‡ΩÇ‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡Ω£‡Ω¶‡ºã‡ΩÄ‡ºã____ ‡Ωñ‡æ±‡Ω¶‡ºç", sub: "‡Ω†‡Ωë‡Ω¶‡ºã‡Ωî‡ºç", options: ["‡Ωò", "‡Ωò‡Ω≤"], correct: 0, hint: "‡Ω†‡Ωë‡Ω¶‡ºã‡Ωî‡ºã‡Ω£‡ºã ‡Ωò‡ºã ‡Ω†‡Ωá‡Ω¥‡ΩÇ" },
            { type: "‡Ωë‡ΩÇ‡ΩÇ‡ºã‡Ω¶‡æí‡æ≤‡ºç", q: "‡ΩÅ‡æ±‡Ωº‡Ωë‡ºã‡Ω¢‡ΩÑ‡ºã____ ‡Ω†‡ΩÇ‡æ≤‡Ωº‡ºç", sub: "‡Ωò‡ºã‡Ω†‡Ωº‡ΩÑ‡Ω¶‡ºã‡Ωî‡ºç", options: ["‡Ωò", "‡Ωò‡Ω≤"], correct: 1, hint: "‡Ωò‡ºã‡Ω†‡Ωº‡ΩÑ‡Ω¶‡ºã‡Ωî‡ºã‡Ω£‡ºã ‡Ωò‡Ω≤‡ºã ‡Ω†‡Ωá‡Ω¥‡ΩÇ" }
        ];

        let currentQuestions = [];
        let currentIndex = 0;
        let score = 0;
        let isAnswering = false;

        function startGame(type) {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            document.getElementById('quiz-screen').classList.add('flex');
            
            currentIndex = 0;
            score = 0;
            updateScore();
            
            if (type === 'dependent') {
                // Generate 15 random questions dynamically
                currentQuestions = [];
                const types = ["‡Ω¶‡æ≥‡Ω¢‡ºã‡Ωñ‡Ω¶‡æ°‡Ω¥‡ºç", "‡Ω£‡ºã‡Ωë‡Ωº‡Ωì‡ºç", "‡Ω†‡Ωñ‡æ≤‡Ω∫‡Ω£‡ºã‡Ω¶‡æí‡æ≤‡ºç", "‡Ω£‡æ∑‡ΩÇ‡ºã‡Ωñ‡ΩÖ‡Ω¶‡ºç", "‡Ωñ‡Ωë‡ΩÇ‡ºã‡Ω¶‡æí‡æ≤‡ºç", "‡ΩÇ‡ΩÑ‡ºã‡Ω¶‡æí‡æ≤‡ºç"];
                for (let i = 0; i < 15; i++) {
                    const randomType = getRandomItem(types);
                    currentQuestions.push(generateQuestion(randomType));
                }
            } else {
                // Shuffle independent questions
                currentQuestions = [...independentQuestionBank]
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 15); // Take 15 random ones
            }
            
            renderQuestion();
        }

        function renderQuestion() {
            const q = currentQuestions[currentIndex];
            const total = currentQuestions.length;
            
            // Update UI
            document.getElementById('question-count').innerText = `‡Ωë‡æ≤‡Ω≤‡ºã‡Ωñ‡ºç ${currentIndex + 1} / ${total}`;
            document.getElementById('progress-bar').style.width = `${((currentIndex) / total) * 100}%`;
            
            document.getElementById('category-badge').innerText = q.type;
            document.getElementById('question-text').innerText = q.q;
            document.getElementById('sub-question-text').innerText = q.sub || "";
            
            // Hide feedback
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('feedback-area').className = "hidden mt-6 p-4 rounded-lg text-center tibetan-text"; 

            // Render Options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.className = `p-6 text-2xl font-bold bg-white border-2 border-gray-200 rounded-xl hover:bg-indigo-50 hover:border-indigo-400 transition-all shadow-sm tibetan-text focus:outline-none`;
                btn.onclick = () => checkAnswer(idx, btn);
                optionsContainer.appendChild(btn);
            });
            
            isAnswering = true;
        }

        function checkAnswer(selectedIndex, btnElement) {
            if (!isAnswering) return;
            isAnswering = false;

            const q = currentQuestions[currentIndex];
            const isCorrect = selectedIndex === q.correct;
            
            const optionsContainer = document.getElementById('options-container');
            const buttons = optionsContainer.getElementsByTagName('button');
            
            // Disable all buttons and show correct answer
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].disabled = true;
                buttons[i].classList.remove('hover:bg-indigo-50', 'hover:border-indigo-400'); // Remove hover effects
                if (i === q.correct) {
                    buttons[i].classList.add('bg-emerald-100', 'border-emerald-500', 'text-emerald-800');
                    if (i !== selectedIndex) {
                         buttons[i].classList.add('ring-2', 'ring-emerald-400');
                    }
                }
            }

            if (isCorrect) {
                // btnElement is already colored by the loop above if it was correct
                score++;
                showFeedback(true, "‡Ω†‡ΩÇ‡æ≤‡Ω≤‡ΩÇ‡ºã‡Ω¶‡Ωº‡ΩÑ‡ºã‡ºç (Correct!) " + q.hint);
            } else {
                btnElement.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                showFeedback(false, "‡Ωì‡Ωº‡Ω¢‡ºã‡Ω¶‡Ωº‡ΩÑ‡ºã‡ºç (Incorrect) " + q.hint);
            }
            
            updateScore();
        }

        function showFeedback(isCorrect, text) {
            const feedbackArea = document.getElementById('feedback-area');
            feedbackArea.classList.remove('hidden');
            
            if (isCorrect) {
                feedbackArea.classList.add('bg-emerald-50', 'text-emerald-800', 'border', 'border-emerald-200');
            } else {
                feedbackArea.classList.add('bg-red-50', 'text-red-800', 'border', 'border-red-200');
            }
            
            document.getElementById('feedback-text').innerText = text;
        }

        function nextQuestion() {
            currentIndex++;
            if (currentIndex < currentQuestions.length) {
                renderQuestion();
            } else {
                showResults();
            }
        }

        function updateScore() {
            document.getElementById('score-display').innerText = `‡Ω¶‡æê‡Ω¥‡ΩÇ‡Ω¶‡ºã‡Ωê‡Ωº‡Ωñ‡ºç ${score}`;
        }

        function showResults() {
            document.getElementById('quiz-screen').classList.remove('flex');
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            
            document.getElementById('final-score').innerText = `${score} / ${currentQuestions.length}`;
            
            const percentage = (score / currentQuestions.length) * 100;
            let msg = "";
            if (percentage === 100) msg = "‡ΩÑ‡Ωº‡ºã‡Ωò‡Ωö‡Ω¢‡ºã‡ΩÜ‡Ω∫‡ºç ‡ΩÅ‡æ±‡Ω∫‡Ωë‡ºã‡ΩÄ‡æ±‡Ω≤‡Ω¶‡ºã‡Ωï‡æ≤‡Ωë‡ºã‡Ωö‡ΩÑ‡ºã‡Ωò‡ºã‡Ωò‡ΩÅ‡æ±‡Ω∫‡Ωì‡ºã‡Ω†‡Ωë‡Ω¥‡ΩÇ (Excellent!)";
            else if (percentage >= 80) msg = "‡Ω°‡ΩÇ‡ºã‡Ωî‡Ωº‡ºã‡Ω†‡Ωë‡Ω¥‡ΩÇ ‡Ωò‡Ω¥‡ºã‡Ωò‡Ωê‡Ω¥‡Ωë‡ºã‡Ωë‡Ω¥‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡ΩÑ‡Ω¶‡ºã‡Ω¢‡Ωº‡ΩÇ‡Ω¶‡ºç (Good job!)";
            else if (percentage >= 50) msg = "‡Ω¶‡Ω∫‡Ωò‡Ω¶‡ºã‡Ω§‡Ω¥‡ΩÇ‡Ω¶‡ºã‡Ωò‡ºã‡ΩÜ‡ΩÇ ‡Ωë‡ºã‡Ωë‡Ω¥‡ΩÑ‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ°‡Ω¢‡ºã‡Ωë‡ΩÇ‡Ωº‡Ω¶‡ºç (Keep practicing!)";
            else msg = "‡Ωñ‡Ω¶‡æê‡æ±‡Ω¢‡ºã‡Ωë‡Ω¥‡ºã‡Ω¶‡æ¶‡æ±‡Ωº‡ΩÑ‡ºã‡Ωñ‡Ω¢‡æ°‡Ω¢‡ºã‡ΩÇ‡Ωì‡ΩÑ‡ºã‡Ω¢‡Ωº‡ΩÇ‡Ω¶‡ºç (Try again!)";
            
            document.getElementById('final-message').innerText = msg;
        }
    </script>
</body>
</html>
